<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Final</title>
    <style>
       body {
      font-family: Arial, sans-serif;
      padding: 30px;
    }

    .form-row {
      margin-bottom: 15px;
      display: flex;
      align-items: center;
    }

    .form-row label {
      width: 180px;
      font-weight: bold;
    }

    .form-row input[type="text"] {
      width: 200px;
    }

    .form-row select {
      width: 210px;
    }

    .form-row .error {
      margin-left: 15px;
      color: red;
      font-size: 0.9em;
    }

    #formContainer {
      max-width: 600px;
    }

    #confirmation {
      display: none;
      text-align: center;
      margin-top: 50px;
    }

    </style>

    <script src="validatePage.js"></script>
</head>
<body>
    <h1>Place your Order</h1>

    <div id="formContainer">
        <form id="orderForm">
            
            <!--Fullname-->
            <div class="form-row">
                <label for="fullName">Full Name: </label>
                <input type="text" id="fullName" maxlength="20"required>    
                <span class="error" id="nameError"></span>
            </div>

            <div class="form-row">
                <label for="partNumber">Part Number*:</label>
                <select id="partNumber">
                <option value="0">--MUST SELECT--</option>
                <option value="55D-26">Gribbly Gibbit</option>
                <option value="X55-87">Fizzly Bing Bang</option>
                <option value="BMB77-88">Bumblee Dumble</option>
                <option value="WBF77-8">Wizbang Goozzle</option>
                </select>
                <span class="error" id="partError"></span>
            </div>


            <!--DOB-->
            <div class="form-row">
                <label for="quantity">Quantity of Part: </label>
                <input type="number" id="quantity" maxlength="10" required>    
                <span class="error" id="quantityErr"></span>
            </div>

            
            <!-- Extended Warranty -->
            <div class="form-row">
                <label>Extended Warranty?</label>
                <input type="radio" name="warranty" value="Yes" required> Yes
                <input type="radio" name="warranty" value="No"> No
                <span class="error" id="warrantyError" ></span>
            </div>

           

            <!-- Submit Button -->
            <div class="form-row">
                <label></label>
                <button type="button" onclick="validatePage()">Place Order</button>
            </div>

           

        </form>

        


    </div>
    <div id="confirmation">
      <h2>Order Submitted!</h2>
      <div id="orderDetails"></div>
    </div>
</body>
<script>

  function validatePage(){

    document.getElementById("nameError").textContent= "";
    document.getElementById("partError").textContent= "";
    document.getElementById("quantityErr").textContent= "";
    document.getElementById("warrantyError").textContent= "";
    
    let isValid = true;


    const name = document.getElementById("fullName").value.trim();
    if(name == ""|| (!/^[A-Za-z\s]+$/.test(name))){
        document.getElementById("nameError").textContent = "Name is required" 
        isValid = false;
    }
    
    const partNumber = document.getElementById("partNumber").value;
    if (partNumber ==0){
        document.getElementById("partError").textContent = "Must select part"
        isValid = false;
    }

    const quantity = document.getElementById("quantity").value;
    if (quantity === "" || !/^\d+$/.test(quantity)) {
        document.getElementById("quantityErr").textContent = "Enter Quantity";
        isValid = false;
    }


   const warrantySelected = document.querySelector('input[name="warranty"]:checked');
   if (!warrantySelected) {
    document.getElementById("warrantyError").textContent = "Please select an option";
    isValid = false;
    }
  
    if(!isValid) return;
    

    let pricePerItem = 0;
    switch (partNumber) {
      
      case "55D-26":
        pricePerItem = 15.50;
        break;
        break;
      case "X55-87":
        pricePerItem = 6.80;
        break;
      case "BMB77-88":
        pricePerItem = 10.10;
      break;
      case "WBF77-8":
        pricePerItem = 23.43;
        break;
      }

    const totalPrice = (pricePerItem * parseInt(quantity));
    
    document.getElementById("formContainer").style.display = "none";
    document.getElementById("confirmation").style.display = "block";

    document.getElementById("orderDetails").innerHTML = `<p><strong>Total Cost is $:</strong> $${totalPrice}</p>`;

    document.getElementById("orderForm").reset();

    }

  
</script>
</html>